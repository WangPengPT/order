import{O as f,P as s,V as c,S as r,T as t,Z as p,a0 as b,a1 as m,r as u,X as D,Q,U as k,W as x,aa as N,a3 as w,a6 as C,_ as i,a8 as n}from"./index-CRYtq9GH.js";import{Q as V}from"./QTable-BBI5iVtn.js";import{Q as y,a as d}from"./QItem-Cw18W7wa.js";import{Q as v}from"./format-DDRjVLUx.js";import{a as I}from"./rtl-C_zomYU6.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R=[{name:"id",required:!0,label:"id",align:"left",field:e=>e.id,format:e=>`${e}`,sortable:!0},{name:"table",required:!0,label:"table",align:"left",field:e=>e.table,format:e=>`${e}`,sortable:!0},{name:"time",required:!0,label:"time",align:"left",field:e=>new Date(e.timestamp),format:e=>`${e.toLocaleTimeString()}`,sortable:!0},{name:"name",required:!0,label:"name",align:"left",field:e=>e.name,format:e=>`${e}`,sortable:!0,style:"max-width: 50px;"},{name:"observação",required:!0,label:"observação",align:"left",field:e=>e.note,format:e=>`${e}`,sortable:!0,classes:"multiline-cell",style:{"max-width":"150px","white-space":"normal","word-break":"break-word"}}],S=m.orders,g=u(!1),h=u(null);function B(e,l){h.value=l,g.value=!0,l.isNew=!1,m.decrementOrderCount()}function L(e){return m.getDishNameById(e.dishid)}function O(e){return e.dishid?e.dishid:e.name}function T(e){return m.getDishNote(e)}const F={setup(){return{getDishId:O,getDishName:L,onRowClick:B,showDetail:g,selRow:h,filter:u(""),columns:R,rows:S,getDishNote:T,rowClassFn(e){return e.isNew?"bg-red-light":"bg-green-light"}}}},U={class:"q-pa-md"};function P(e,l,E,a,W,X){return s(),f(b,null,[c("div",U,[r(V,{title:"Orders",rows:a.rows,columns:a.columns,"row-key":"id",filter:a.filter,onRowClick:a.onRowClick,"table-row-class-fn":a.rowClassFn},{"top-right":t(()=>[r(D,{borderless:"",dense:"",debounce:"300",modelValue:a.filter,"onUpdate:modelValue":l[0]||(l[0]=o=>a.filter=o),placeholder:"Search"},{append:t(()=>[r(Q,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","columns","filter","onRowClick","table-row-class-fn"])]),r(p,{modelValue:a.showDetail,"onUpdate:modelValue":l[1]||(l[1]=o=>a.showDetail=o)},{default:t(()=>[r(k,{bordered:"",class:"rounded-borders",style:{"min-width":"350px"}},{default:t(()=>[r(x,null,{default:t(()=>l[2]||(l[2]=[c("div",{class:"text-h6"},"details",-1)])),_:1,__:[2]}),r(I,{bordered:"",separator:""},{default:t(()=>[(s(!0),f(b,null,N(a.selRow.items,(o,_)=>(s(),w(y,{key:_},{default:t(()=>[r(d,{avatar:""},{default:t(()=>[i(n(a.getDishId(o)),1)]),_:2},1024),o.dishid?(s(),w(d,{key:0},{default:t(()=>[i(n(a.getDishName(o)),1)]),_:2},1024)):C("",!0),r(d,{side:""},{default:t(()=>[i(" x "+n(o.quantity),1)]),_:2},1024),r(d,null,{default:t(()=>[r(v,{style:{"white-space":"pre-line"}},{default:t(()=>[i(n(a.getDishNote(o.notes)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const J=q(F,[["render",P]]);export{J as default};
