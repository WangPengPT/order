import{a6 as r,U as c,W as f,r as d,Y as s,V as i,a8 as C,_,$ as m}from"./index-GPq7ISSp.js";import{Q as b}from"./QPage-DbiybLCf.js";import{Q as p}from"./browser-BtZzEF0O.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Q={setup(){const t=d(""),e=d(null),n=d(!1);return{seatNumber:t,qrCanvas:e,qrCodeGenerated:n,generateQRCode:()=>{if(t.value){let o=window.global_qr_addr+t.value;console.log("The qrcode data: ",o),p.toCanvas(e.value,o,{width:300},l=>{l?console.error(l):n.value=!0})}},downloadQRCode:()=>{if(e.value){const o=document.createElement("a");o.download=`座号-${t.value}-二维码.png`,o.href=e.value.toDataURL("image/png"),o.click()}}}}},q={class:"q-mb-md"},g={ref:"qrCanvas"};function w(t,e,n,a,u,o){return c(),r(b,{class:"flex flex-center column q-pa-md"},{default:f(()=>[e[1]||(e[1]=s("div",{class:"text-h4 q-mb-md"},"座号二维码生成器",-1)),i(_,{modelValue:a.seatNumber,"onUpdate:modelValue":e[0]||(e[0]=l=>a.seatNumber=l),label:"请输入座号",outlined:"",class:"q-mb-md",style:{"min-width":"300px"},rules:[l=>!!l||"座号不能为空"]},null,8,["modelValue","rules"]),i(m,{label:"生成二维码",color:"primary",class:"q-mb-md",onClick:a.generateQRCode,disable:!a.seatNumber},null,8,["onClick","disable"]),s("div",q,[s("canvas",g,null,512)]),a.qrCodeGenerated?(c(),r(m,{key:0,label:"下载二维码",color:"positive",icon:"download",onClick:a.downloadQRCode},null,8,["onClick"])):C("",!0)]),_:1,__:[1]})}const V=v(Q,[["render",w]]);export{V as default};
