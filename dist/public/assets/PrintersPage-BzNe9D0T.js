import{d as h,o as k,f as _,a as n,w as a,e as D,V as U,B as q,n as p,b as r,h as V,C as T,Q as R,j as B,m as I,i as v,a6 as A,ae as M,af as N,k as j,_ as E,$ as F}from"./index-CebFqYmd.js";import{Q as L,b as S}from"./QTable-RwwXDGVn.js";import{Q as G}from"./QSpace-DCLJxJng.js";import{Q as H,a as w}from"./QItem-D-np_Dm9.js";import{a as J}from"./QField-7WesE5k3.js";import{C as K}from"./ClosePopup-BkaP_XVA.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QItemLabel-BNsy_Qx9.js";import"./format-CJebrXOQ.js";const b=r(null),Q=r([]),f=r([]),d=r([]),W=[{name:"id",required:!0,label:"id",align:"left",field:e=>e.id,format:e=>`${e}`,sortable:!0},{name:"curPrinter",required:!0,label:"printer",align:"left",field:e=>e.curPrinter,format:e=>`${e}`,sortable:!0},{name:"menu",required:!1,label:"menu",align:"left",field:e=>e.menu,format:e=>`${e}`,sortable:!0},{name:"onebyone",required:!1,label:"onebyone",align:"left",field:e=>e.every_one,format:e=>`${e}`,sortable:!0},{name:"fontSize",required:!1,label:"fontSize",align:"left",field:e=>e.fontSize,format:e=>`${e}`,sortable:!0}],P=r([]),y=r(!1),g=r(null),c=r(!1),x=r(14);function X(e,l){const u=[""].concat(l.printers);if(Q.value=u,b.value=l.curPrinter,x.value=l.fontSize||14,d.value.length==0){const t={},i=[{label:"Caixa Aleatória",value:"Caixa Aleatória"}];for(let s=0;s<p.menuData.length;s++){const o=p.menuData[s];o.category&&o.category!=""&&(t[o.category]||(t[o.category]=!0,i.push({label:o.category,value:o.category}))),o.tags&&o.tags!=""&&(t[o.tags]||(t[o.tags]=!0,i.push({label:o.tags,value:o.tags})))}d.value=i,console.log(d.value)}if(l.menu){const t=[];for(let i=0;i<l.menu.length;i++){const s=l.menu[i];let o=!1;for(let m=0;m<d.value.length;m++)d.value[m].value==s&&(o=!0);o&&t.push(s)}f.value=t}else f.value=[];console.log(f.value),g.value=l,c.value=l.every_one=="true",y.value=!0}function Y(){const e=g.value,l=b.value,u=f.value;e.curPrinter=l,e.menu=[...u],console.log(c.value),c.value==!0?e.every_one="true":e.every_one="false",e.fontSize=x.value,e.fontSize>20&&(e.fontSize=20),e.fontSize<12&&(e.fontSize=12),console.log(e.id,l,u,e.every_one),p.selectPrinter(e.id,l,u,e.every_one,e.fontSize),y.value=!1}function Z(){const e=g.value;p.printTestPage(e.id)}const $={setup(){return q(()=>{p.getPrinters(e=>{console.log("getPrinters",e),P.value=e})}),{printTest:Z,printer_model:b,printer_options:Q,menu_model:f,menu_options:d,selectPrinter:Y,onRowClick:X,showDetail:y,selRow:g,filter:r(""),columns:W,rows:P,every_one:c,fontSize:x}}},ee={class:"q-pa-md"};function le(e,l,u,t,i,s){return k(),h(U,null,[_("div",ee,[n(L,{title:"Printers",rows:t.rows,columns:t.columns,"row-key":"id",filter:t.filter,onRowClick:t.onRowClick},{"top-right":a(()=>[n(V,{borderless:"",dense:"",debounce:"300",modelValue:t.filter,"onUpdate:modelValue":l[0]||(l[0]=o=>t.filter=o),placeholder:"Search"},{append:a(()=>[n(T,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","columns","filter","onRowClick"])]),n(D,{modelValue:t.showDetail,"onUpdate:modelValue":l[7]||(l[7]=o=>t.showDetail=o)},{default:a(()=>[n(R,{bordered:"",class:"rounded-borders",style:{width:"350px"}},{default:a(()=>[n(B,{class:"row items-center q-pb-none"},{default:a(()=>[l[8]||(l[8]=_("div",{class:"text-h6"},"Printer Setting",-1)),n(G),I(n(v,{icon:"close",flat:"",round:"",dense:""},null,512),[[K]])]),_:1,__:[8]}),n(J,{bordered:"",separator:""},{default:a(()=>[n(S,{modelValue:t.printer_model,"onUpdate:modelValue":l[1]||(l[1]=o=>t.printer_model=o),options:t.printer_options,label:"Printer",style:{width:"300px",margin:"5px","margin-left":"25px"}},null,8,["modelValue","options"]),n(A,{modelValue:t.every_one,"onUpdate:modelValue":l[2]||(l[2]=o=>t.every_one=o),label:"one record every page",style:{width:"300px",margin:"5px","margin-left":"25px"}},null,8,["modelValue"]),n(S,{filled:"",modelValue:t.menu_model,"onUpdate:modelValue":l[3]||(l[3]=o=>t.menu_model=o),options:t.menu_options,label:"Menu",multiple:"","emit-value":"","map-options":"",style:{width:"300px",margin:"5px","margin-left":"25px"}},{option:a(({itemProps:o,opt:m,selected:C,toggleOption:z})=>[n(H,M(N(o)),{default:a(()=>[n(w,null,{default:a(()=>[j(E(m.label),1)]),_:2},1024),n(w,{side:""},{default:a(()=>[n(F,{"model-value":C,"onUpdate:modelValue":oe=>z(m)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options"]),n(V,{modelValue:t.fontSize,"onUpdate:modelValue":l[4]||(l[4]=o=>t.fontSize=o),modelModifiers:{number:!0},type:"number",filled:"",style:{width:"300px",margin:"5px","margin-left":"25px"}},null,8,["modelValue"])]),_:1}),n(v,{onClick:l[5]||(l[5]=o=>t.printTest()),style:{width:"200px",margin:"5px","margin-left":"130px"},"icon-right":"print",color:"primary",label:"Print Test"}),n(v,{onClick:l[6]||(l[6]=o=>t.selectPrinter()),style:{width:"200px",margin:"5px","margin-left":"130px"},"icon-right":"ok",color:"primary",label:"Apply"})]),_:1})]),_:1},8,["modelValue"])],64)}const fe=O($,[["render",le]]);export{fe as default};
