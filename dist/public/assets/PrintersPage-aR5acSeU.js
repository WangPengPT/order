import{c as C,h as k,T as h,U as S,Y as w,V as o,W as n,a0 as T,a3 as D,r,a4 as d,_ as R,Q as U,X as q,Z as B,w as I,$ as c,aS as A,aT as N,a1 as z,a9 as E,aR as F}from"./index-DzrAy36N.js";import{Q as L,a as _}from"./QTable-BX-d3C9t.js";import{Q as M,a as P}from"./QItem-BDUJgJy7.js";import{a as W}from"./rtl-DfejLkLV.js";import{C as X}from"./ClosePopup-fnot_Sp9.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./format-BRdZI-Ss.js";const Z=C({name:"QSpace",setup(){const l=k("div",{class:"q-space"});return()=>l}}),g=r(null),b=r([]),m=r([]),f=r([]),j=[{name:"id",required:!0,label:"id",align:"left",field:l=>l.id,format:l=>`${l}`,sortable:!0},{name:"curPrinter",required:!0,label:"printer",align:"left",field:l=>l.curPrinter,format:l=>`${l}`,sortable:!0}],V=r([]),v=r(!1),p=r(null);function G(l,e){if(b.value=e.printers,g.value=e.curPrinter,e.menu?m.value=[...e.menu]:m.value=[],f.value.length==0){const i={},t=[{label:"Caixa Aleatória",value:"Caixa Aleatória"}];for(let u=0;u<d.menuData.length;u++){const s=d.menuData[u];i[s.category]||(i[s.category]=!0,t.push({label:s.category,value:s.category}))}f.value=t}p.value=e,v.value=!0}function H(){const l=p.value,e=g.value,i=m.value;console.log(i,e),l.curPrinter=e,l.menu=[...i],d.selectPrinter(l.id,e,i),v.value=!1}function J(){const l=p.value;d.printTestPage(l.id)}d.getPrinters(l=>{console.log("getPrinters",l),V.value=l});const K={setup(){return{printTest:J,printer_model:g,printer_options:b,menu_model:m,menu_options:f,selectPrinter:H,onRowClick:G,showDetail:v,selRow:p,filter:r(""),columns:j,rows:V}}},O={class:"q-pa-md"};function $(l,e,i,t,u,s){return S(),h(D,null,[w("div",O,[o(L,{title:"Printers",rows:t.rows,columns:t.columns,"row-key":"id",filter:t.filter,onRowClick:t.onRowClick},{"top-right":n(()=>[o(R,{borderless:"",dense:"",debounce:"300",modelValue:t.filter,"onUpdate:modelValue":e[0]||(e[0]=a=>t.filter=a),placeholder:"Search"},{append:n(()=>[o(U,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","columns","filter","onRowClick"])]),o(T,{modelValue:t.showDetail,"onUpdate:modelValue":e[5]||(e[5]=a=>t.showDetail=a)},{default:n(()=>[o(q,{bordered:"",class:"rounded-borders",style:{width:"350px"}},{default:n(()=>[o(B,{class:"row items-center q-pb-none"},{default:n(()=>[e[6]||(e[6]=w("div",{class:"text-h6"},"Printer Setting",-1)),o(Z),I(o(c,{icon:"close",flat:"",round:"",dense:""},null,512),[[X]])]),_:1,__:[6]}),o(W,{bordered:"",separator:""},{default:n(()=>[o(_,{modelValue:t.printer_model,"onUpdate:modelValue":e[1]||(e[1]=a=>t.printer_model=a),options:t.printer_options,label:"Printer",style:{width:"300px",margin:"5px","margin-left":"25px"}},null,8,["modelValue","options"]),o(_,{filled:"",modelValue:t.menu_model,"onUpdate:modelValue":e[2]||(e[2]=a=>t.menu_model=a),options:t.menu_options,label:"Menu",multiple:"","emit-value":"","map-options":"",style:{width:"300px",margin:"5px","margin-left":"25px"}},{option:n(({itemProps:a,opt:x,selected:Q,toggleOption:y})=>[o(M,A(N(a)),{default:n(()=>[o(P,null,{default:n(()=>[z(E(x.label),1)]),_:2},1024),o(P,{side:""},{default:n(()=>[o(F,{"model-value":Q,"onUpdate:modelValue":ee=>y(x)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options"])]),_:1}),o(c,{onClick:e[3]||(e[3]=a=>t.printTest()),style:{width:"200px",margin:"5px","margin-left":"130px"},"icon-right":"print",color:"primary",label:"Print Test"}),o(c,{onClick:e[4]||(e[4]=a=>t.selectPrinter()),style:{width:"200px",margin:"5px","margin-left":"130px"},"icon-right":"ok",color:"primary",label:"Apply"})]),_:1})]),_:1},8,["modelValue"])],64)}const se=Y(K,[["render",$]]);export{se as default};
