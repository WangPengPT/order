import{d as f,o as s,f as c,a as r,w as a,e as _,V as b,n as u,b as m,h as D,C as Q,Q as k,j as x,a0 as y,c as w,Z as C,k as i,_ as n}from"./index-DopTafnW.js";import{Q as N}from"./QTable-7XDRs8Tp.js";import{Q as V,a as d}from"./QItem-CJCzGW6M.js";import{Q as v}from"./QItemLabel-CLdhTPOz.js";import{a as I}from"./QField-DoVjuRYT.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./format-CJebrXOQ.js";const R=[{name:"id",required:!0,label:"id",align:"left",field:e=>e.id,format:e=>`${e}`,sortable:!0},{name:"table",required:!0,label:"table",align:"left",field:e=>e.table,format:e=>`${e}`,sortable:!0},{name:"time",required:!0,label:"time",align:"left",field:e=>new Date(e.timestamp),format:e=>e.toLocaleString("pt-PT",{timeZone:"Europe/Lisbon",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),sortable:!0},{name:"name",required:!0,label:"name",align:"left",field:e=>e.name,format:e=>`${e}`,sortable:!0,style:"max-width: 50px;"},{name:"observação",required:!0,label:"observação",align:"left",field:e=>e.note,format:e=>`${e}`,sortable:!0,classes:"multiline-cell",style:{"max-width":"150px","white-space":"normal","word-break":"break-word"}}],B=u.orders,h=m(!1),g=m(null);function L(e,l){g.value=l,h.value=!0,l.isNew=!1,u.decrementOrderCount()}function S(e){return u.getDishNameById(e.dishid)}function F(e){return e.dishid?e.dishid:e.name}function O(e){return u.getDishNote(e)}const T={setup(){return{getDishId:F,getDishName:S,onRowClick:L,showDetail:h,selRow:g,filter:m(""),columns:R,rows:B,getDishNote:O,rowClassFn(e){return e.isNew?"bg-red-light":""}}}},E={class:"q-pa-md"};function P(e,l,U,t,Z,j){return s(),f(b,null,[c("div",E,[r(N,{title:"Orders",rows:t.rows,columns:t.columns,"row-key":"id",filter:t.filter,onRowClick:t.onRowClick,"table-row-class-fn":t.rowClassFn},{"top-right":a(()=>[r(D,{borderless:"",dense:"",debounce:"300",modelValue:t.filter,"onUpdate:modelValue":l[0]||(l[0]=o=>t.filter=o),placeholder:"Search"},{append:a(()=>[r(Q,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","columns","filter","onRowClick","table-row-class-fn"])]),r(_,{modelValue:t.showDetail,"onUpdate:modelValue":l[1]||(l[1]=o=>t.showDetail=o)},{default:a(()=>[r(k,{bordered:"",class:"rounded-borders",style:{"min-width":"350px"}},{default:a(()=>[r(x,null,{default:a(()=>l[2]||(l[2]=[c("div",{class:"text-h6"},"details",-1)])),_:1,__:[2]}),r(I,{bordered:"",separator:""},{default:a(()=>[(s(!0),f(b,null,y(t.selRow.items,(o,p)=>(s(),w(V,{key:p},{default:a(()=>[r(d,{avatar:""},{default:a(()=>[i(n(t.getDishId(o)),1)]),_:2},1024),o.dishid?(s(),w(d,{key:0},{default:a(()=>[i(n(t.getDishName(o)),1)]),_:2},1024)):C("",!0),r(d,{side:""},{default:a(()=>[i(" x "+n(o.quantity),1)]),_:2},1024),r(d,null,{default:a(()=>[r(v,{style:{"white-space":"pre-line"}},{default:a(()=>[i(n(t.getDishNote(o.notes)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const W=q(T,[["render",P]]);export{W as default};
