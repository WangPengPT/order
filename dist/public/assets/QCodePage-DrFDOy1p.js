import{c as r,o as c,w as C,b as d,f as s,a as i,Y as f,h as p,i as m}from"./index-I183mYim.js";import{Q as b}from"./QPage-3TJNFl27.js";import{C as v,Q as _}from"./CodeMaker-3r3752K-.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./_commonjsHelpers-Bx2EM-6T.js";const q={setup(){const t=d(""),e=d(null),n=d(!1);return{seatNumber:t,qrCanvas:e,qrCodeGenerated:n,generateQRCode:()=>{if(t.value){let a=window.global_qr_addr+v.SimpleEncode(t.value);console.log("The qrcode data: ",a),_.toCanvas(e.value,a,{width:300},l=>{l?console.error(l):n.value=!0})}},downloadQRCode:()=>{if(e.value){const a=document.createElement("a");a.download=`座号-${t.value}-二维码.png`,a.href=e.value.toDataURL("image/png"),a.click()}}}}},w={class:"q-mb-md"},g={ref:"qrCanvas"};function k(t,e,n,o,u,a){return c(),r(b,{class:"flex flex-center column q-pa-md"},{default:C(()=>[e[1]||(e[1]=s("div",{class:"text-h4 q-mb-md"},"座号二维码生成器",-1)),i(p,{modelValue:o.seatNumber,"onUpdate:modelValue":e[0]||(e[0]=l=>o.seatNumber=l),label:"请输入座号",outlined:"",class:"q-mb-md",style:{"min-width":"300px"},rules:[l=>!!l||"座号不能为空"]},null,8,["modelValue","rules"]),i(m,{label:"生成二维码",color:"primary",class:"q-mb-md",onClick:o.generateQRCode,disable:!o.seatNumber},null,8,["onClick","disable"]),s("div",w,[s("canvas",g,null,512)]),o.qrCodeGenerated?(c(),r(m,{key:0,label:"下载二维码",color:"positive",icon:"download",onClick:o.downloadQRCode},null,8,["onClick"])):f("",!0)]),_:1,__:[1]})}const B=Q(q,[["render",k]]);export{B as default};
