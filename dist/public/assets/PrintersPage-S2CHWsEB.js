import{c as C,h as k,T as h,U as D,Y as b,V as o,W as n,a0 as S,a3 as T,r,a4 as d,_ as U,Q as R,X as q,Z as B,w as I,$ as c,as as A,at as N,a1 as z,a9 as E,au as F}from"./index-GPq7ISSp.js";import{Q as L,b as w}from"./QTable-CcRL7Wwa.js";import{Q as M,a as W,b as _}from"./QList-6HEYVZ1D.js";import{C as X}from"./ClosePopup-C-fD1Wnm.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./rtl-CwrSRhjr.js";import"./format-CJebrXOQ.js";const Z=C({name:"QSpace",setup(){const t=k("div",{class:"q-space"});return()=>t}}),g=r(null),P=r([]),m=r([]),f=r([]),j=[{name:"id",required:!0,label:"id",align:"left",field:t=>t.id,format:t=>`${t}`,sortable:!0},{name:"curPrinter",required:!0,label:"printer",align:"left",field:t=>t.curPrinter,format:t=>`${t}`,sortable:!0}],V=r([]),v=r(!1),p=r(null);function G(t,e){if(P.value=e.printers,g.value=e.curPrinter,e.menu?m.value=[...e.menu]:m.value=[],f.value.length==0){const i={},l=[{label:"Caixa Aleatória",value:"Caixa Aleatória"}];for(let u=0;u<d.menuData.length;u++){const s=d.menuData[u];i[s.category]||(i[s.category]=!0,l.push({label:s.category,value:s.category}))}f.value=l}p.value=e,v.value=!0}function H(){const t=p.value,e=g.value,i=m.value;console.log(i,e),t.curPrinter=e,t.menu=[...i],d.selectPrinter(t.id,e,i),v.value=!1}function J(){const t=p.value;d.printTestPage(t.id)}d.getPrinters(t=>{console.log("getPrinters",t),V.value=t});const K={setup(){return{printTest:J,printer_model:g,printer_options:P,menu_model:m,menu_options:f,selectPrinter:H,onRowClick:G,showDetail:v,selRow:p,filter:r(""),columns:j,rows:V}}},O={class:"q-pa-md"};function $(t,e,i,l,u,s){return D(),h(T,null,[b("div",O,[o(L,{title:"Printers",rows:l.rows,columns:l.columns,"row-key":"id",filter:l.filter,onRowClick:l.onRowClick},{"top-right":n(()=>[o(U,{borderless:"",dense:"",debounce:"300",modelValue:l.filter,"onUpdate:modelValue":e[0]||(e[0]=a=>l.filter=a),placeholder:"Search"},{append:n(()=>[o(R,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","columns","filter","onRowClick"])]),o(S,{modelValue:l.showDetail,"onUpdate:modelValue":e[5]||(e[5]=a=>l.showDetail=a)},{default:n(()=>[o(q,{bordered:"",class:"rounded-borders",style:{width:"350px"}},{default:n(()=>[o(B,{class:"row items-center q-pb-none"},{default:n(()=>[e[6]||(e[6]=b("div",{class:"text-h6"},"Printer Setting",-1)),o(Z),I(o(c,{icon:"close",flat:"",round:"",dense:""},null,512),[[X]])]),_:1,__:[6]}),o(M,{bordered:"",separator:""},{default:n(()=>[o(w,{modelValue:l.printer_model,"onUpdate:modelValue":e[1]||(e[1]=a=>l.printer_model=a),options:l.printer_options,label:"Printer",style:{width:"300px",margin:"5px","margin-left":"25px"}},null,8,["modelValue","options"]),o(w,{filled:"",modelValue:l.menu_model,"onUpdate:modelValue":e[2]||(e[2]=a=>l.menu_model=a),options:l.menu_options,label:"Menu",multiple:"","emit-value":"","map-options":"",style:{width:"300px",margin:"5px","margin-left":"25px"}},{option:n(({itemProps:a,opt:x,selected:Q,toggleOption:y})=>[o(W,A(N(a)),{default:n(()=>[o(_,null,{default:n(()=>[z(E(x.label),1)]),_:2},1024),o(_,{side:""},{default:n(()=>[o(F,{"model-value":Q,"onUpdate:modelValue":ee=>y(x)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options"])]),_:1}),o(c,{onClick:e[3]||(e[3]=a=>l.printTest()),style:{width:"200px",margin:"5px","margin-left":"130px"},"icon-right":"print",color:"primary",label:"Print Test"}),o(c,{onClick:e[4]||(e[4]=a=>l.selectPrinter()),style:{width:"200px",margin:"5px","margin-left":"130px"},"icon-right":"ok",color:"primary",label:"Apply"})]),_:1})]),_:1},8,["modelValue"])],64)}const se=Y(K,[["render",$]]);export{se as default};
