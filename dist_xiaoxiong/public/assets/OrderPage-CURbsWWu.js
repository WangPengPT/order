import{O as f,P as s,V as c,S as r,T as a,Z as _,a0 as b,a1 as u,r as m,X as D,Q,U as k,W as x,aa as y,a3 as w,a6 as N,_ as i,a8 as n}from"./index-CK5zflQp.js";import{Q as C}from"./QTable-BsWUQBHj.js";import{Q as V,a as d}from"./QItem-DQPQR15i.js";import{Q as v}from"./format-D5QzZxgG.js";import{a as I}from"./rtl-B5NANF1g.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R=[{name:"id",required:!0,label:"id",align:"left",field:e=>e.id,format:e=>`${e}`,sortable:!0},{name:"table",required:!0,label:"table",align:"left",field:e=>e.table,format:e=>`${e}`,sortable:!0},{name:"time",required:!0,label:"time",align:"left",field:e=>new Date(e.timestamp),format:e=>e.toLocaleString("pt-PT",{timeZone:"Europe/Lisbon",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),sortable:!0},{name:"name",required:!0,label:"name",align:"left",field:e=>e.name,format:e=>`${e}`,sortable:!0,style:"max-width: 50px;"},{name:"observação",required:!0,label:"observação",align:"left",field:e=>e.note,format:e=>`${e}`,sortable:!0,classes:"multiline-cell",style:{"max-width":"150px","white-space":"normal","word-break":"break-word"}}],S=u.orders,g=m(!1),h=m(null);function B(e,l){h.value=l,g.value=!0,l.isNew=!1,u.decrementOrderCount()}function L(e){return u.getDishNameById(e.dishid)}function O(e){return e.dishid?e.dishid:e.name}function T(e){return u.getDishNote(e)}const F={setup(){return{getDishId:O,getDishName:L,onRowClick:B,showDetail:g,selRow:h,filter:m(""),columns:R,rows:S,getDishNote:T,rowClassFn(e){return e.isNew?"bg-red-light":""}}}},P={class:"q-pa-md"};function U(e,l,E,t,Z,W){return s(),f(b,null,[c("div",P,[r(C,{title:"Orders",rows:t.rows,columns:t.columns,"row-key":"id",filter:t.filter,onRowClick:t.onRowClick,"table-row-class-fn":t.rowClassFn},{"top-right":a(()=>[r(D,{borderless:"",dense:"",debounce:"300",modelValue:t.filter,"onUpdate:modelValue":l[0]||(l[0]=o=>t.filter=o),placeholder:"Search"},{append:a(()=>[r(Q,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","columns","filter","onRowClick","table-row-class-fn"])]),r(_,{modelValue:t.showDetail,"onUpdate:modelValue":l[1]||(l[1]=o=>t.showDetail=o)},{default:a(()=>[r(k,{bordered:"",class:"rounded-borders",style:{"min-width":"350px"}},{default:a(()=>[r(x,null,{default:a(()=>l[2]||(l[2]=[c("div",{class:"text-h6"},"details",-1)])),_:1,__:[2]}),r(I,{bordered:"",separator:""},{default:a(()=>[(s(!0),f(b,null,y(t.selRow.items,(o,p)=>(s(),w(V,{key:p},{default:a(()=>[r(d,{avatar:""},{default:a(()=>[i(n(t.getDishId(o)),1)]),_:2},1024),o.dishid?(s(),w(d,{key:0},{default:a(()=>[i(n(t.getDishName(o)),1)]),_:2},1024)):N("",!0),r(d,{side:""},{default:a(()=>[i(" x "+n(o.quantity),1)]),_:2},1024),r(d,null,{default:a(()=>[r(v,{style:{"white-space":"pre-line"}},{default:a(()=>[i(n(t.getDishNote(o.notes)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const J=q(F,[["render",U]]);export{J as default};
