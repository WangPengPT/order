import{Q as H,a as V}from"./QItem-z3q63Aqg.js";import{a as de,Q as Ce}from"./rtl-CQF3wfA6.js";import{i as he,aM as we,O as R,P as c,a0 as z,aa as J,S as i,aN as L,Y as h,a as D,w as xe,R as Se,a3 as g,T as o,a6 as w,V as x,aO as _,a8 as q,U as K,c as ee,r as S,B as Oe,C as qe,d as $e,g as ue,h as G,b as W,am as Me,k as ae,x as U,aP as Ee,D as Qe,aQ as Ae,X as Be,$ as X,Z as te,M as Ie,p as Y,W as P,al as Ne,aR as Fe,_ as A,a1 as M,aS as Ve,a9 as je,a7 as oe}from"./index-BOmxNB3D.js";import{_ as le}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as Z,b as Pe,Q as Re,c as ie}from"./QTable-B4sljkTo.js";import{C as De,Q as ze}from"./CodeMaker-3r3752K-.js";import"./format-BN6MA9ur.js";import"./_commonjsHelpers-Bx2EM-6T.js";function ce(){return he(we)}const Le={class:"tabs row q-gutter-sm"},Ue={__name:"FilterTabs",props:{filterStatus:String},setup(e){const v=e,m=[{label:"Todos",value:"Todos"},{label:"Livre",value:"Livre"},{label:"Ocupado",value:"Ocupado"},{label:"Reservado",value:"Reservado"},{label:"Pago",value:"Pago"}];function a(r){if(r===v.filterStatus)switch(r){case"Livre":return"bg-green text-white";case"Ocupado":return"bg-red text-white";case"Reservado":return"bg-blue text-white";case"Pago":return"bg-grey-6 text-white";case"Todos":default:return"bg-black text-white"}return"bg-white text-black"}return(r,n)=>(c(),R("div",Le,[(c(),R(z,null,J(m,f=>i(h,{key:f.value,label:f.label,flat:e.filterStatus!==f.value,unelevated:!0,class:L(a(f.value)),onClick:t=>r.$emit("update:filterStatus",f.value)},null,8,["label","flat","class","onClick"])),64))]))}};function fe(e,v){var m,a,r;try{m=e.toString().split(".")[1].length}catch{m=0}try{a=v.toString().split(".")[1].length}catch{a=0}return r=Math.pow(10,Math.max(m,a)),(ne(e,r)+ne(v,r))/r}function ne(e,v){var m=0,a=e.toString(),r=v.toString();try{m+=a.split(".")[1].length}catch{}try{m+=r.split(".")[1].length}catch{}return Number(a.replace(".",""))*Number(r.replace(".",""))/Math.pow(10,m)}const He={class:"text-h6 text-weight-bolder"},Je={class:"status-text"},Ge={class:"text-subtitle2 text-weight-bolder"},We={__name:"TableCard",props:{table:Object,editMode:Boolean,price:Object},setup(e){const v=e,m=D(()=>{const r=parseFloat(v.table.order.reduce((f,t)=>f+t.price*t.quantity,0).toFixed(2));let n=v.table.peopleType.adults*v.price.adult+v.table.peopleType.childres*v.price.children;return fe(r,n).toFixed(2)}),a=D(()=>{switch(v.table.status){case"Livre":return"status-free";case"Ocupado":return"status-busy";case"Reservado":return"status-reserved";case"Pago":return"status-paid";default:return""}});return(r,n)=>xe((c(),g(K,{class:L(["table-card",a.value,"my-card","text-center","q-pa-md"]),flat:"",bordered:"",onClick:n[1]||(n[1]=()=>r.$emit("selectTable",e.table.id))},{default:o(()=>[e.editMode?(c(),g(h,{key:0,icon:"close",size:"xl",color:"red",flat:"",round:"",class:"central-delete-btn",onClick:n[0]||(n[0]=_(()=>r.$emit("removeTable",e.table.id),["stop"]))})):w("",!0),x("div",null,[x("div",He," Mesa "+q(e.table.id),1),x("div",Je,q(e.table.status),1),x("div",null,q(e.table.people)+" Pessoas ",1),x("div",Ge," €"+q(m.value),1)])]),_:1},8,["class"])),[[Se]])}},Ke=le(We,[["__scopeId","data-v-0dc3d1b7"]]),Ze={class:"table-grid q-pa-lg"},Xe={__name:"TableGrid",props:{tables:Array,editMode:Boolean,price:Object},setup(e){return(v,m)=>(c(),R("div",Ze,[(c(!0),R(z,null,J(e.tables,a=>(c(),g(Ke,{key:a.id,table:a,editMode:e.editMode,onSelectTable:()=>v.$emit("selectTable",a.id),onRemoveTable:()=>v.$emit("removeTable",a.id),price:e.price},null,8,["table","editMode","onSelectTable","onRemoveTable","price"]))),128))]))}},Ye=le(Xe,[["__scopeId","data-v-59832ab0"]]),be=ee({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:v,emit:m}){const a=ue(),r=S(null);let n=0;const f=[];function t(d){const y=typeof d=="boolean"?d:e.noErrorFocus!==!0,$=++n,F=(l,s)=>{m(`validation${l===!0?"Success":"Error"}`,s)},j=l=>{const s=l.validate();return typeof s.then=="function"?s.then(p=>({valid:p,comp:l}),p=>({valid:!1,comp:l,err:p})):Promise.resolve({valid:s,comp:l})};return(e.greedy===!0?Promise.all(f.map(j)).then(l=>l.filter(s=>s.valid!==!0)):f.reduce((l,s)=>l.then(()=>j(s).then(p=>{if(p.valid===!1)return Promise.reject(p)})),Promise.resolve()).catch(l=>[l])).then(l=>{if(l===void 0||l.length===0)return $===n&&F(!0),!0;if($===n){const{comp:s,err:p}=l[0];if(p!==void 0&&console.error(p),F(!1,s),y===!0){const E=l.find(({comp:I})=>typeof I.focus=="function"&&Me(I.$)===!1);E!==void 0&&E.comp.focus()}}return!1})}function k(){n++,f.forEach(d=>{typeof d.resetValidation=="function"&&d.resetValidation()})}function Q(d){d!==void 0&&ae(d);const y=n+1;t().then($=>{y===n&&$===!0&&(e.onSubmit!==void 0?m("submit",d):d?.target!==void 0&&typeof d.target.submit=="function"&&d.target.submit())})}function C(d){d!==void 0&&ae(d),m("reset"),U(()=>{k(),e.autofocus===!0&&e.noResetFocus!==!0&&B()})}function B(){Ee(()=>{if(r.value===null)return;(r.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||r.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||r.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(r.value.querySelectorAll("[tabindex]"),y=>y.tabIndex!==-1))?.focus({preventScroll:!0})})}Qe(Ae,{bindComponent(d){f.push(d)},unbindComponent(d){const y=f.indexOf(d);y!==-1&&f.splice(y,1)}});let N=!1;return Oe(()=>{N=!0}),qe(()=>{N===!0&&e.autofocus===!0&&B()}),$e(()=>{e.autofocus===!0&&B()}),Object.assign(a.proxy,{validate:t,resetValidation:k,submit:Q,reset:C,focus:B,getValidationComponents:()=>f}),()=>G("form",{class:"q-form",ref:r,onSubmit:Q,onReset:C},W(v.default))}}),_e={__name:"AddTableForm",props:{visible:Boolean},emits:["submit","update:visible","close"],setup(e,{emit:v}){const m=v,a=S("");function r(){m("submit",a.value),a.value=""}return(n,f)=>(c(),g(te,{"model-value":e.visible,onHide:f[2]||(f[2]=()=>n.$emit("close"))},{default:o(()=>[i(K,{style:{"min-width":"400px"}},{default:o(()=>[i(be,{onSubmit:r},{default:o(()=>[i(Be,{filled:"",modelValue:a.value,"onUpdate:modelValue":f[0]||(f[0]=t=>a.value=t),type:"number",label:"Número da mesa",hint:"Número da mesa","lazy-rules":"",rules:[t=>t&&t.length>0||"Por favor, escreve algo",t=>!isNaN(t)||"Conteúdo tem ser um número"]},null,8,["modelValue","rules"]),i(X,{align:"right"},{default:o(()=>[x("div",null,[i(h,{label:"Submeter",type:"submit",color:"primary"}),i(h,{label:"Cancelar",type:"cancel",color:"primary",flat:"",class:"q-ml-sm",onClick:f[1]||(f[1]=_(()=>n.$emit("close"),["stop"]))})])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}},et={class:"q-mt-none q-mb-none text-center"},tt={class:"self-center no-outline"},lt={round:"",class:"self-center no-outline"},at={class:"self-center no-outline"},ot={class:L(["col-4","justify-between","row"])},it={__name:"TableDetail",props:{visible:Boolean,table:Object,editable:Boolean},emits:["submit","close","tableEditableMode","editableModeBack","showTableOrders","cleanTable"],setup(e,{emit:v}){const m=e,a=S(!0),r=["Livre","Ocupado","Pago","Reservado"],n=v,f=S(null),t=Ie({id:null,people:0,peopleType:{adults:0,childres:0},status:""});function k(){t.peopleType.adults>0&&(t.peopleType.adults=t.peopleType.adults-1)}function Q(){t.peopleType.adults=t.peopleType.adults+1}function C(){t.peopleType.childres>0&&(t.peopleType.childres=t.peopleType.childres-1)}function B(){t.peopleType.childres=t.peopleType.childres+1}Y(()=>m.visible,async d=>{d&&m.table?.id&&(Object.assign(t,JSON.parse(JSON.stringify(m.table))),await U(),N(),t.status==="Livre"&&(await U(),n("tableEditableMode")))},{immediate:!0}),Y(()=>[t.peopleType.adults,t.peopleType.childres],([d,y])=>{const $=parseInt(d)||0,F=parseInt(y)||0;t.people=$+F});async function N(){if(a.value=!0,await U(),!f.value||!m.table.id){console.warn("Canvas not ready or table ID missing");return}const d=window.global_qr_addr+De.SimpleEncode(m.table.id);console.log("hh: ",window.global_qr_addr),console.log("qrcoed data: ",d),ze.toCanvas(f.value,d,{width:150},y=>{y?(console.error("二维码生成失败",y),setTimeout(()=>N(),300)):a.value=!1})}return(d,y)=>(c(),g(te,{"model-value":e.visible,onHide:y[7]||(y[7]=$=>d.$emit("close"))},{default:o(()=>[i(K,{style:{"min-width":"450px"}},{default:o(()=>[i(P,{class:"row items-center justify-end q-pb-none q-pl-none q-pt-sm q-pr-sm"},{default:o(()=>[i(h,{icon:"close",flat:"",round:"",dense:"",onClick:y[0]||(y[0]=_($=>d.$emit("close"),["stop"]))})]),_:1}),i(be,{onSubmit:y[6]||(y[6]=()=>d.$emit("submit",t)),class:"q-ma-lg"},{default:o(()=>[x("h4",et,"Table "+q(t.id),1),i(Z,{outlined:"",label:"Adults","stack-label":"",class:"q-mx-sm col-grow"},{control:o(()=>[x("div",tt,q(t.people),1)]),_:1}),i(P,{class:"row items-center"},{default:o(()=>[e.editable?(c(),g(h,{key:0,round:"",color:"primary",icon:"remove",padding:"xs",onClick:k})):w("",!0),i(Z,{outlined:"",label:"Adults","stack-label":"",class:"q-mx-sm col-grow"},{control:o(()=>[x("div",lt,q(t.peopleType.adults),1)]),_:1}),e.editable?(c(),g(h,{key:1,round:"",color:"primary",icon:"add",padding:"xs",onClick:Q})):w("",!0)]),_:1}),i(P,{class:"row items-center no-wrap"},{default:o(()=>[e.editable?(c(),g(h,{key:0,round:"",color:"primary",icon:"remove",padding:"xs",onClick:C})):w("",!0),i(Z,{outlined:"",label:"Childrens","stack-label":"",class:"q-mx-sm col-grow"},{control:o(()=>[x("div",at,q(t.peopleType.childres),1)]),_:1}),e.editable?(c(),g(h,{key:1,round:"",color:"primary",icon:"add",padding:"xs",onClick:B})):w("",!0)]),_:1}),i(Pe,{square:"",outlined:"",modelValue:t.status,"onUpdate:modelValue":y[1]||(y[1]=$=>t.status=$),options:r,disable:!e.editable},null,8,["modelValue","disable"]),i(P,{class:"flex flex-center",style:{"min-height":"160px"}},{default:o(()=>[a.value?(c(),g(Ne,{key:0,color:"primary",size:"2em"})):w("",!0),x("canvas",{ref_key:"qrCanvas",ref:f,style:Fe({display:a.value?"none":"block",marginTop:"8px"})},null,4)]),_:1}),x("div",ot,[t.status!="空闲"&&!e.editable?(c(),g(h,{key:0,color:"deep-orange",glossy:"",label:"Limpar mesa",onClick:y[2]||(y[2]=()=>d.$emit("cleanTable",t.id))})):w("",!0),e.editable?w("",!0):(c(),g(h,{key:1,color:"primary",label:"Visualizar pedidos",onClick:y[3]||(y[3]=()=>d.$emit("showTableOrders"))})),e.editable?w("",!0):(c(),g(h,{key:2,color:"secondary",label:"Editar",onClick:y[4]||(y[4]=()=>d.$emit("tableEditableMode"))})),e.editable?(c(),g(h,{key:3,color:"white","text-color":"black",label:"Cancelar",onClick:y[5]||(y[5]=()=>d.$emit("editableModeBack"))})):w("",!0),e.editable?(c(),g(h,{key:4,color:"primary",type:"submit",label:"Salvar"})):w("",!0)])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},nt=le(it,[["__scopeId","data-v-fe3f3724"]]),se=ee({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:v}){const m=D(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>G("tr",{style:e.props?.__trStyle,class:m.value},W(v.default))}}),re=ee({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:v}){const m=ue(),a=D(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return G("td",{class:a.value},W(v.default));const r=m.vnode.key,n=(e.props.colsMap!==void 0?e.props.colsMap[r]:null)||e.props.col;if(n===void 0)return;const{row:f}=e.props;return G("td",{class:a.value+n.__tdClass(f),style:n.__tdStyle(f)},W(v.default))}}}),st={class:"text-h6"},rt={class:"text-subtitle2",style:{"text-align":"left",width:"100%"}},dt={__name:"OrderModal",props:{visible:Boolean,editMode:Boolean,table:{type:Object,default:()=>({id:null,peopleType:{adults:0,children:0},order:[]})},price:Object},emits:["cancelOrderEdit","setEditMode","saveOrder","close","autoClose","deleteOrder"],setup(e,{emit:v}){const m=ce(),a=e,r=v,n=S({rowsPerPage:0}),f=S(""),t=S(!1),k=S([]),Q=[{name:"name",required:!0,label:"nome",align:"left",field:u=>M.getDishName(u),format:u=>`${u}`,sortable:!0},{name:"quantity",required:!0,label:"quandidade",align:"left",field:u=>u.quantity,format:u=>`${u}`,sortable:!0},{name:"price/uni",required:!0,label:"Preço/uni",align:"left",field:u=>u.price,format:u=>`${u}`,sortable:!0},{name:"price",required:!0,label:"Preço",align:"left",field:u=>u.price*u.quantity,format:u=>`${u.toFixed(2)}`,sortable:!0}],C=S([]);Y(()=>a.table?.order,u=>{k.value=Array.isArray(u)?JSON.parse(JSON.stringify(u)):[]},{immediate:!0,deep:!0});function B(u){return t.value?u.filter(l=>l.price>0):u}function N(){t.value&&(f.value=t.value?"price>0":"")}function d(){j(),t.value=!1,r("autoClose")}function y(u){const l=k.value.findIndex(p=>p.dishid===u.dishid);if(l===-1)return;const s=k.value[l];if(!(s.quantity<=0))if(s.quantity-=1,s.quantity===0){const p=k.value.splice(l,1)[0],E=C.value.findIndex(I=>I.dishid===p.dishid);E!==-1?C.value[E].quantity+=1:C.value.push({dishid:p.dishid,quantity:1})}else{const p=C.value.findIndex(E=>E.dishid===u.dishid);p!==-1?C.value[p].quantity+=1:C.value.push({dishid:u.dishid,quantity:1})}}function $(u,l){m.dialog({title:"Confirmação de eliminação",message:`Tem a certeza que deseja eliminar ${u.name}?`,cancel:!0,persistent:!0}).onOk(()=>{const s=k.value.findIndex(I=>I.name===u.name);if(s===-1)return;const p=k.value.splice(s,1)[0],E=C.value.findIndex(I=>I.dishid===p.dishid);E!==-1?C.value[E].quantity+=p.quantity:C.value.push({dishid:p.dishid,quantity:p.quantity}),r("deleteOrder",{order:u.name,tableId:l})})}const F=D(()=>{const u=parseFloat(k.value.reduce((s,p)=>s+p.price*p.quantity,0).toFixed(2));let l=a.table.peopleType.adults*a.price.adult+a.table.peopleType.childres*a.price.children;return fe(u,l).toFixed(2)});function j(){k.value=Array.isArray(a.table.order)?JSON.parse(JSON.stringify(a.table.order)):[],C.value=[],r("cancelOrderEdit")}return(u,l)=>(c(),g(te,{"model-value":e.visible,onHide:d},{default:o(()=>[i(K,{style:{"min-width":"300px","max-height":"70%","max-width":"80%"}},{default:o(()=>[i(P,null,{default:o(()=>[x("div",st,"Mesa "+q(e.table.id),1)]),_:1}),i(de,{bordered:""},{default:o(()=>[e.table.peopleType.adults>0?(c(),g(H,{key:0},{default:o(()=>[i(V,null,{default:o(()=>l[5]||(l[5]=[A(" Adulto ")])),_:1,__:[5]}),i(V,null,{default:o(()=>[A("Quantidade: "+q(e.table.peopleType.adults),1)]),_:1}),i(V,null,{default:o(()=>[A("Preço/uni: €"+q(e.price.adult),1)]),_:1})]),_:1})):w("",!0),e.table.peopleType.childres>0?(c(),g(H,{key:1},{default:o(()=>[i(V,null,{default:o(()=>l[6]||(l[6]=[A(" Criança ")])),_:1,__:[6]}),i(V,null,{default:o(()=>[A("Quantidade: "+q(e.table.peopleType.childres),1)]),_:1}),i(V,null,{default:o(()=>[A("Preço/uni: €"+q(e.price.children),1)]),_:1})]),_:1})):w("",!0)]),_:1}),Array.isArray(k.value)&&k.value.length>0?(c(),g(P,{key:0,class:"q-pa-md"},{default:o(()=>[i(Re,{class:"my-sticky-header-table",flat:"",bordered:"","hide-bottom":"",rows:k.value,"virtual-scroll":"",filter:f.value,"filter-method":B,columns:Q,pagination:n.value,"onUpdate:pagination":l[0]||(l[0]=s=>n.value=s),"rows-per-page-options":[0],"row-key":"id"},Ve({_:2},[e.editMode?{name:"header",fn:o(s=>[i(se,{props:s},{default:o(()=>[i(ie,{"auto-width":""}),(c(!0),R(z,null,J(s.cols,p=>(c(),g(ie,{key:p.name,props:s},{default:o(()=>[A(q(p.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),key:"0"}:void 0,e.editMode?{name:"body",fn:o(s=>[i(se,{props:s},{default:o(()=>[i(re,{"auto-width":""},{default:o(()=>[s.row.name==="Sushi Aleatória?®"?(c(),g(h,{key:0,size:"sm",color:"accent",round:"",dense:"",icon:"close",disable:s.row.quantity<=0,onClick:p=>$(s.row,e.table.id)},null,8,["disable","onClick"])):(c(),g(h,{key:1,size:"sm",color:"accent",round:"",dense:"",icon:"remove",disable:s.row.quantity<=0,onClick:p=>y(s.row)},null,8,["disable","onClick"]))]),_:2},1024),(c(!0),R(z,null,J(s.cols,p=>(c(),g(re,{key:p.name,props:s},{default:o(()=>[A(q(p.value),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),key:"1"}:void 0]),1032,["rows","filter","pagination"])]),_:1})):(c(),g(P,{key:1},{default:o(()=>l[7]||(l[7]=[A(" Nothing ")])),_:1,__:[7]})),i(X,{class:"q-gutter-sm",style:{display:"flex","justify-content":"space-between",padding:"8px 16px","border-top":"1px solid #ccc",position:"sticky",bottom:"0",background:"white","z-index":"10"}},{default:o(()=>[i(X,{class:"q-gutter-sm",style:{padding:"8px 16px"}},{default:o(()=>[x("div",rt," Total: €"+q(F.value),1)]),_:1}),e.editMode?w("",!0):(c(),g(je,{key:0,modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=s=>t.value=s),color:"green",onClick:l[2]||(l[2]=s=>N()),label:"No Zero"},null,8,["modelValue"])),e.editMode?(c(),g(h,{key:1,color:"white","text-color":"black",label:"Cancelar",onClick:j})):w("",!0),e.editMode?(c(),g(h,{key:2,color:"primary",label:"Salvar",onClick:l[3]||(l[3]=s=>u.$emit("saveOrder",[...C.value]))})):w("",!0),e.editMode?w("",!0):(c(),g(h,{key:3,color:"primary",label:"Editar",onClick:l[4]||(l[4]=()=>u.$emit("setEditMode"))}))]),_:1})]),_:1})]),_:1},8,["model-value"]))}},ut={class:L(["tables-page","row","no-wrap","justify-between"])},Tt={__name:"TablesPage",setup(e){const v=ce(),m=S("Livre"),a=S(!1),r=S(!1),n=S(null),f=S(!1),t=S(!1),k=S(!1),Q=S(!1),C=S({}),B=D(()=>m.value==="Todos"?M.tables.value:M.tables.value.filter(T=>T.status===m.value));function N(){a.value=!0}function d(){a.value==!0&&(a.value=!1)}function y(T){v.dialog({title:"Confimação de eliminação",message:`Tem certeza quer eliminar a mesa ${T} ? Esta operação não é recuperável.`,cancel:!0,persistent:!0}).onOk(()=>{const b=M.deleteTable(T);b!=null&&v.dialog({title:"Erro",message:b.message})})}function $(){r.value=!0}async function F(T){const b=await M.addNewTable(T);b!==void 0&&v.notify({title:b.title,type:"negative",message:b.message,position:"top-right",timeout:3e3,icon:"error"})}function j(){r.value=!1}function u(T){const b=M.tables.value.find(O=>O.id===T);n.value={...b,order:b?.order||[]},f.value=!0}function l(){t.value=!0}function s(T){const b={id:T.id,status:T.status,peopleType:{adults:T.peopleType.adults,childres:T.peopleType.childres}},O=M.updateTable(b);O&&v.dialog(O),t.value=!1}function p(){t.value=!1,f.value=!1}function E(){t.value=!1}function I(T){v.dialog({title:"Confirmação de limpeza",message:`Tem a certeza que deseja limpar a mesa ${T}? Isto irá remover todos os clientes e definir o estado como 'Livre'.`,cancel:!0,persistent:!0}).onOk(()=>{const b=M.tableClean(T);b&&v.dialog(b)})}function ve(){const T=M.tables.value.find(b=>b.id===n.value.id);n.value={...T,order:T?.order||[]},k.value=!0}function me(){k.value=!1}function pe(){Q.value=!0}function ye(T){console.log("deletde order:",T),M.deleteOrders(n.value.id,T),C.value.order&&(M.deleteOrder(C.value),C.value={}),Q.value=!1}function ge(){M.refreshTables(),Q.value=!1}function Te(){k.value=!1}function ke({order:T,tableId:b}){C.value={order:T,tableId:b}}return(T,b)=>(c(),R(z,null,[x("div",ut,[i(Ue,{filterStatus:m.value,"onUpdate:filterStatus":b[0]||(b[0]=O=>m.value=O)},null,8,["filterStatus"]),i(h,{color:"primary",icon:a.value?"close":"edit",class:L(["q-pa-md"]),onClick:d},{default:o(()=>[a.value?w("",!0):(c(),g(Ce,{key:0},{default:o(()=>[i(de,{style:{"min-width":"100px"}},{default:o(()=>[i(H,{clickable:"",onClick:$},{default:o(()=>[i(V,null,{default:o(()=>b[6]||(b[6]=[A("Adicionar")])),_:1,__:[6]})]),_:1}),i(H,{clickable:"",onClick:N},{default:o(()=>[i(V,null,{default:o(()=>b[7]||(b[7]=[A("Editar")])),_:1,__:[7]})]),_:1})]),_:1})]),_:1}))]),_:1},8,["icon"])]),b[8]||(b[8]=x("div",null,null,-1)),x("div",null,[i(Ye,{tables:B.value,editMode:a.value,onSelectTable:u,onRemoveTable:y,price:oe(M).getCurentPeoplePrice()},null,8,["tables","editMode","price"])]),x("div",null,[i(_e,{onSubmit:F,onClose:j,visible:r.value,"onUpdate:visible":b[1]||(b[1]=O=>r.value=O)},null,8,["visible"])]),x("div",null,[n.value?(c(),g(nt,{key:0,visible:f.value,"onUpdate:visible":b[2]||(b[2]=O=>f.value=O),table:n.value,"onUpdate:table":b[3]||(b[3]=O=>n.value=O),editable:t.value,onTableEditableMode:l,onSubmit:s,onClose:p,onEditableModeBack:E,onCleanTable:I,onShowTableOrders:ve},null,8,["visible","table","editable"])):w("",!0)]),x("div",null,[n.value?(c(),g(dt,{key:0,visible:k.value,"onUpdate:visible":b[4]||(b[4]=O=>k.value=O),table:n.value,"onUpdate:table":b[5]||(b[5]=O=>n.value=O),onClose:me,onSetEditMode:pe,editMode:Q.value,onSaveOrder:ye,onCancelOrderEdit:ge,onAutoClose:Te,price:oe(M).getCurentPeoplePrice(),onDeleteOrder:ke},null,8,["visible","table","editMode","price"])):w("",!0)])],64))}};export{Tt as default};
