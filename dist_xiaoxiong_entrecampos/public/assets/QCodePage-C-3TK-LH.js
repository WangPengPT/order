import{a3 as r,P as c,T as C,r as d,V as s,S as i,a6 as f,X as p,Y as m}from"./index-BpFk5gxb.js";import{Q as b}from"./QPage-B_IIUC99.js";import{C as v,Q as _}from"./CodeMaker-3r3752K-.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./_commonjsHelpers-Bx2EM-6T.js";const q={setup(){const t=d(""),e=d(null),n=d(!1);return{seatNumber:t,qrCanvas:e,qrCodeGenerated:n,generateQRCode:()=>{if(t.value){let o=window.global_qr_addr+v.SimpleEncode(t.value);console.log("The qrcode data: ",o),_.toCanvas(e.value,o,{width:300},l=>{l?console.error(l):n.value=!0})}},downloadQRCode:()=>{if(e.value){const o=document.createElement("a");o.download=`座号-${t.value}-二维码.png`,o.href=e.value.toDataURL("image/png"),o.click()}}}}},g={class:"q-mb-md"},k={ref:"qrCanvas"};function w(t,e,n,a,u,o){return c(),r(b,{class:"flex flex-center column q-pa-md"},{default:C(()=>[e[1]||(e[1]=s("div",{class:"text-h4 q-mb-md"},"座号二维码生成器",-1)),i(p,{modelValue:a.seatNumber,"onUpdate:modelValue":e[0]||(e[0]=l=>a.seatNumber=l),label:"请输入座号",outlined:"",class:"q-mb-md",style:{"min-width":"300px"},rules:[l=>!!l||"座号不能为空"]},null,8,["modelValue","rules"]),i(m,{label:"生成二维码",color:"primary",class:"q-mb-md",onClick:a.generateQRCode,disable:!a.seatNumber},null,8,["onClick","disable"]),s("div",g,[s("canvas",k,null,512)]),a.qrCodeGenerated?(c(),r(m,{key:0,label:"下载二维码",color:"positive",icon:"download",onClick:a.downloadQRCode},null,8,["onClick"])):f("",!0)]),_:1,__:[1]})}const B=Q(q,[["render",w]]);export{B as default};
