import{c as f,d as s,e as c,y as r,p as a,G as _,F as b,N as u,r as m,J as x,Y as y,Q as D,L as Q,E as N,l as w,q as k,h as i,t as n}from"./index-CxWiWLra.js";import{Q as C}from"./QTable-DLo5QcPJ.js";import{Q as V,a as d}from"./QItem-CgQYdZU4.js";import{Q as q}from"./QItemLabel-DfQtWlqN.js";import{a as v}from"./rtl-SocbUiVf.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./format-CJebrXOQ.js";const L=[{name:"id",required:!0,label:"id",align:"left",field:e=>e.id,format:e=>`${e}`,sortable:!0},{name:"table",required:!0,label:"table",align:"left",field:e=>e.table,format:e=>`${e}`,sortable:!0},{name:"time",required:!0,label:"time",align:"left",field:e=>new Date(e.timestamp),format:e=>e.toLocaleString("pt-PT",{timeZone:"Europe/Lisbon",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),sortable:!0},{name:"name",required:!0,label:"name",align:"left",field:e=>e.name,format:e=>`${e}`,sortable:!0,style:"max-width: 50px;"},{name:"observação",required:!0,label:"observação",align:"left",field:e=>e.note,format:e=>`${e}`,sortable:!0,classes:"multiline-cell",style:{"max-width":"150px","white-space":"normal","word-break":"break-word"}}],R=u.orders,g=m(!1),h=m(null);function B(e,l){h.value=l,g.value=!0,l.isNew=!1,u.decrementOrderCount()}function S(e){return u.getDishNameById(e.dishid)}function F(e){return e.dishid?e.dishid:e.name}function E(e){return u.getDishNote(e)}const O={setup(){return{getDishId:F,getDishName:S,onRowClick:B,showDetail:g,selRow:h,filter:m(""),columns:L,rows:R,getDishNote:E,rowClassFn(e){return e.isNew?"bg-red-light":""}}}},T={class:"q-pa-md"};function P(e,l,U,t,G,J){return s(),f(b,null,[c("div",T,[r(C,{title:"Orders",rows:t.rows,columns:t.columns,"row-key":"id",filter:t.filter,onRowClick:t.onRowClick,"table-row-class-fn":t.rowClassFn},{"top-right":a(()=>[r(x,{borderless:"",dense:"",debounce:"300",modelValue:t.filter,"onUpdate:modelValue":l[0]||(l[0]=o=>t.filter=o),placeholder:"Search"},{append:a(()=>[r(y,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","columns","filter","onRowClick","table-row-class-fn"])]),r(_,{modelValue:t.showDetail,"onUpdate:modelValue":l[1]||(l[1]=o=>t.showDetail=o)},{default:a(()=>[r(D,{bordered:"",class:"rounded-borders",style:{"min-width":"350px"}},{default:a(()=>[r(Q,null,{default:a(()=>l[2]||(l[2]=[c("div",{class:"text-h6"},"details",-1)])),_:1,__:[2]}),r(v,{bordered:"",separator:""},{default:a(()=>[(s(!0),f(b,null,N(t.selRow.items,(o,p)=>(s(),w(V,{key:p},{default:a(()=>[r(d,{avatar:""},{default:a(()=>[i(n(t.getDishId(o)),1)]),_:2},1024),o.dishid?(s(),w(d,{key:0},{default:a(()=>[i(n(t.getDishName(o)),1)]),_:2},1024)):k("",!0),r(d,{style:{padding:"0px 10px"},side:""},{default:a(()=>[i(" x "+n(o.quantity),1)]),_:2},1024),r(d,null,{default:a(()=>[r(q,{style:{"white-space":"pre-line"}},{default:a(()=>[i(n(t.getDishNote(o.notes)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const M=I(O,[["render",P]]);export{M as default};
